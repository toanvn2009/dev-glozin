{% comment %}
  This file is auto-generated by Foxify.
  This file can be re-written at any time. Please do not update this file directly.
{% endcomment %}

{% assign menu_data = linklists[menu_handle] %}

{% if menu_data.links.size > 0 %}
  {% capture arrow_svg %}
    <svg aria-hidden="true" focusable="false" class="x-navigation__arrow" viewBox="0 0 10 6">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor"></path>
    </svg>
  {% endcapture %}
  <ul class='x-navigation__list' data-level='1'>
    {% for link in menu_data.links %}
      {% liquid
        if link.links.size > 0
          assign has_children = true
        else
          assign has_children = false
        endif
      %}
      <li class='x-navigation__item{% if has_children %} x-navigation__item--has-children{% endif %}'>
        <a class='x-navigation__link' href='{{ link.url }}'>
          <span class='x-navigation__link-text'>{{ link.title }}</span>
          {% if has_children %}
            {{ arrow_svg }}
          {% endif %}
        </a>
        {% if has_children and show_nested_menu %}
          <ul class='x-navigation__list x-navigation__sublist' data-level='2'>
            {% for sublink in link.links %}
              {% liquid
                if sublink.links.size > 0
                  assign has_sub_children = true
                else
                  assign has_sub_children = false
                endif
              %}
              <li class='x-navigation__item x-navigation__subitem{% if has_sub_children %} x-navigation__item--has-children{% endif %}'>
                <a class='x-navigation__link x-navigation__sublink' href='{{ sublink.url }}'>
                  <span class='x-navigation__link-text'>{{ sublink.title }}</span>
                  {% if has_sub_children %}
                    {{ arrow_svg }}
                  {% endif %}
                </a>
                {% if has_sub_children %}
                  <ul class='x-navigation__list x-navigation__sublist' data-level='3'>
                    {% for subsublink in sublink.links %}
                      <li class='x-navigation__item x-navigation__subitem'>
                        <a class='x-navigation__link x-navigation__sublink' href='{{ subsublink.url }}'>
                          <span class='x-navigation__link-text'>{{ subsublink.title }}</span>
                        </a>
                      </li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </li>
    {% endfor %}
  </ul>

  <x-menu-drawer id='xMenuDrawer--{{ menu_id }}' class='x-drawer x-menu-drawer x-drawer--left x-desk-hidden'>
    <button id='XDrawerClose-MenuDrawer-{{ menu_id }}' class='x-drawer__close x-menu-drawer__close'>
      <svg viewBox='0 0 20 20'>
        <path d="M13.97 15.03a.75.75 0 1 0 1.06-1.06l-3.97-3.97 3.97-3.97a.75.75 0 0 0-1.06-1.06l-3.97 3.97-3.97-3.97a.75.75 0 0 0-1.06 1.06l3.97 3.97-3.97 3.97a.75.75 0 1 0 1.06 1.06l3.97-3.97 3.97 3.97Z"></path>
      </svg>
    </button>
    <div class='x-drawer__content x-navigation {{ className }}' tabindex='-1'>
      <div class='x-drawer__scroller'>
        <div class='x-menu-drawer__content'>
          <div class='x-menu-drawer__list' data-level='1'>
            {% for link in menu_data.links %}
              {% liquid
                assign tag = 'div'
                if link.links.size > 0
                  assign has_children = true
                  assign tag = 'x-collapsible-tab'
                else
                  assign has_children = false
                endif
              %}
              <{{ tag }} class='x-collapsible__item x-menu-drawer__item'>
                {% if has_children %}
                  <div class='x-collapsible__button x-menu-drawer__button' data-trigger='true'>
                    <span class='x-menu-drawer__link-text'>{{ link.title }}</span>
                    <span class='x-menu-drawer__button-icon'>
                      {{ arrow_svg }}
                    </span>
                  </div>
                {% else %}
                  <a class='x-menu-drawer__link' href='{{ link.url }}'>
                    <span class='x-menu-drawer__link-text'>{{ link.title }}</span>
                  </a>
                {% endif %}

                {% if has_children and show_nested_menu %}
                  <div class='x-collapsible__content-wrapper' data-content='true' hidden>
                    <div class='x-collapsible__content x-menu-drawer__sublist' data-level='2'>
                      {% for sublink in link.links %}
                        {% liquid
                          assign tag_sublink = 'div'
                          if sublink.links.size > 0
                            assign tag_sublink = 'x-collapsible-tab'
                            assign has_sub_children = true
                          else
                            assign has_sub_children = false
                          endif
                        %}
                        <{{ tag_sublink }} class='x-menu-drawer__item x-menu-drawer__subitem'>
                          {% if has_sub_children %}
                            <div class='x-collapsible__button x-menu-drawer__button' data-trigger='true'>
                              <span class='x-menu-drawer__link-text'>{{ sublink.title }}</span>
                              <span class='x-menu-drawer__button-icon'>
                                {{ arrow_svg }}
                              </span>
                            </div>
                          {% else %}
                            <a class='x-menu-drawer__link x-menu-drawer__sublink' href='{{ sublink.url }}'>
                              <span class='x-menu-drawer__link-text'>{{ sublink.title }}</span>
                            </a>
                          {% endif %}

                          {% if has_sub_children %}
                            <div class='x-collapsible__content-wrapper' data-content='true' hidden>
                              <div class='x-collapsible__content x-menu-drawer__sublist' data-level='3'>
                                {% for subsublink in sublink.links %}
                                  <div class='x-menu-drawer__item x-menu-drawer__subitem'>
                                    <a class='x-menu-drawer__link x-menu-drawer__sublink' href='{{ subsublink.url }}'>
                                      <span class='x-menu-drawer__link-text'>{{ subsublink.title }}</span>
                                    </a>
                                  </div>
                                {% endfor %}
                              </div>
                            </div>
                          {% endif %}
                        </{{ tag_sublink }}>
                      {% endfor %}
                    </div>
                  </div>
                {% endif %}
              </{{ tag }}>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    <div class='x-drawer__overlay'></div>
  </x-menu-drawer>
{% endif %}

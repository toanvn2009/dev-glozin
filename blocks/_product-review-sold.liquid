{% liquid
  assign block_st = block.settings
  assign product = closest.product
  assign section_st = section.settings
  assign enable_skeleton_loading = section_st.enable_skeleton_loading
%}
{% if block_st.show_review != false or block_st.show_sold_products != false %}
  <div
    class="review_sold flex flex-wrap gap-20 align-center mb-custom lh-normal mt-custom row-gap-5{% if enable_skeleton_loading %} skeleton-loading{% endif %}"
    style="--space-top: 2;--space-bottom: 13"
    {{ block.shopify_attributes }}
  >
    {% if block_st.show_review %}
      {%- render 'review', product: product -%}
    {% endif %}
    {% if block_st.show_sold_products %}
      {% if block_st.sold != blank or block_st.hours != blank %}
        <div class="flex gap-5">
          <svg width="13" height="15" fill="none">
            <path fill="#D10028" d="M6.584 15c-2.437 0-4.626-1.556-5.356-3.88a5.186 5.186 0 0 1-.249-1.556c0-3.032 2.482-5.479 2.482-5.479s-.17.99-.064 1.834c.106.843.498 1.36.498 1.36s-.286-1.324.094-2.211c.438-1.022 1.255-1.495 1.569-2.415.36-1.059-.18-2.29-.18-2.29s1.78.688 3.065 2.462c1.459 2.013.476 4.606.476 4.606s.136-.716.873-1.297c.737-.58.438-1.48.438-1.48s1.993 2.233 1.993 4.91c0 .726-.208 1.459-.512 2.141C10.815 13.722 8.791 15 6.584 15Z"/><path fill="#B7022D" d="M3.462 4.086s-.093.538-.1 1.159c-.58.973-1.128 2.268-1.128 3.692 0 .542.094 1.064.249 1.556.73 2.324 2.92 3.88 5.356 3.88.655 0 1.293-.113 1.891-.324A5.67 5.67 0 0 1 6.584 15c-2.436 0-4.626-1.556-5.356-3.881a5.186 5.186 0 0 1-.249-1.556c0-3.032 2.483-5.478 2.483-5.478Z"/><path fill="#FFA91A" d="M3.772 10.89c0-1.53 1.004-2.518 1.63-3.152 1.113-1.128.915-2.412.915-2.412S8.5 7.203 8.843 8.76c.328 1.489-.497 2.316-.497 2.316s.384-.148.623-.414c.305-.338.414-.749.414-.749s.127.308-.04 1.361c-.118.749-.507 1.309-.963 1.721-1.11 1.002-2.84.905-3.844-.201-.431-.474-.764-1.1-.764-1.903Z"/><path fill="#FFC91D" d="M8.081 10.936a.125.125 0 0 0 .091-.04c.051-.053.5-.552.5-1.45 0-.205-.024-.418-.071-.633-.07-.315-.227-.67-.468-1.055a.125.125 0 1 0-.213.133c.226.361.372.69.435.976.044.197.066.392.066.58 0 .813-.413 1.259-.431 1.277a.125.125 0 0 0 .091.212Zm-.337-3.4a.125.125 0 0 0 .101-.2l-.036-.05a.126.126 0 0 0-.202.15l.036.048a.125.125 0 0 0 .101.051Z"/><path fill="#F79219" d="M5.403 7.738c1.114-1.128.916-2.412.916-2.412s.693.596 1.36 1.395c-.614.635-1.397 1.563-1.397 2.915 0 .802.333 1.429.764 1.902.492.541 1.156.84 1.837.888-.148.214-.32.403-.502.568-1.109 1.002-2.839.905-3.844-.201-.43-.474-.764-1.1-.764-1.903 0-1.53 1.005-2.518 1.63-3.152Z"/><path fill="#EF7816" d="M5.4 7.738c1.114-1.128.916-2.412.916-2.412s.438.377.952.932c-.138.279-.335.57-.613.853-.626.634-1.63 1.621-1.63 3.152 0 .803.333 1.429.764 1.903a2.746 2.746 0 0 0 2.576.84c-1.11.989-2.83.889-3.83-.213-.432-.474-.765-1.1-.765-1.903 0-1.53 1.005-2.518 1.63-3.152Z"/><path fill="#D10028" d="M4.296.001s.753.475.739 1.357c-.008.465-.245.84-.42 1.254-.155.37-.185.934-.185.934s-.516-.443-.572-1.425c-.021-.386.183-.852.29-1.186C4.311.418 4.295 0 4.295 0ZM9.764 4.268s.638-.624.437-1.485c-.106-.455-.578-.752-.887-1.08-.316-.333-.46-.936-.46-.936s-.338.412-.126 1.21c.137.513.563.884.738 1.189.27.472.298 1.102.298 1.102Z"/>
          </svg>
          <sold-product
            class="primary-color"
            data-sold="{{ block_st.sold }}"
            data-hours="{{ block_st.hours }}"
            data-message="{{ 'products.product.fake_sold' | t }}"
          ></sold-product>
        </div>
      {% endif %}
    {% endif %}
  </div>
{% endif %}
{% schema %}
{
  "name": "t:blocks.product.review_and_sold.name",
  "tag": null,
  "settings": [
    {
      "type": "checkbox",
      "id": "show_review",
      "default": true,
      "label": "t:sections.main-product.blocks.review_and_sold.settings.show_review"
    },
    {
      "type": "header",
      "content": "t:sections.main-product.blocks.review_and_sold.settings.fake_sold_products.header"
    },
    {
      "type": "checkbox",
      "id": "show_sold_products",
      "default": true,
      "label": "t:sections.main-product.blocks.review_and_sold.settings.fake_sold_products.show_sold_products"
    },
    {
      "type": "textarea",
      "id": "sold",
      "label": "t:sections.main-product.blocks.review_and_sold.settings.fake_sold_products.sold.label",
      "info": "t:sections.main-product.blocks.review_and_sold.settings.fake_sold_products.sold.info"
    },
    {
      "type": "textarea",
      "id": "hours",
      "label": "t:sections.main-product.blocks.review_and_sold.settings.fake_sold_products.hours.label",
      "info": "t:sections.main-product.blocks.review_and_sold.settings.fake_sold_products.hours.info"
    }
  ],
  "presets": [
    {
      "name": "t:blocks.product.review_and_sold.name"
    }
  ]
}
{% endschema %}
